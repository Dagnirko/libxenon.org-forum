# Compile Problem

## 2012-01-01 08:50:01, posted by: mojobojo

Well this is something wierd. I never had this problem before but it suddenly started happening so I think maybe the patch was changed. I am using this patch [code]http://file.libxenon.org/free60/linux/kernel/patch-2.6.36.4-xenon0.11.diff[/code] For some reason more warnings come up than usual. And somewhere -Werror is set. [code]mojobojo@mojobojo-vm:~/xenon-linux-kernel/linux-2.6.36.4$ make CROSS\_COMPILE=xenon- ARCH=powerpc all scripts/kconfig/conf --silentoldconfig arch/powerpc/Kconfig CHK include/linux/version.h UPD include/linux/version.h CHK include/generated/utsrelease.h UPD include/generated/utsrelease.h CC kernel/bounds.s GEN include/generated/bounds.h CC arch/powerpc/kernel/asm-offsets.s In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/mman.h:35, from include/linux/mman.h:4, from arch/powerpc/kernel/asm-offsets.c:22: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from arch/powerpc/kernel/asm-offsets.c:28: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] GEN include/generated/asm-offsets.h CALL scripts/checksyscalls.sh <stdin>:1522:2: warning: #warning syscall recvmmsg not implemented [-Wcpp] HOSTCC scripts/dtc/checks.o HOSTCC scripts/dtc/data.o SHIPPED scripts/dtc/dtc-lexer.lex.c SHIPPED scripts/dtc/dtc-parser.tab.h HOSTCC scripts/dtc/dtc-lexer.lex.o SHIPPED scripts/dtc/dtc-parser.tab.c HOSTCC scripts/dtc/dtc-parser.tab.o HOSTCC scripts/dtc/dtc.o HOSTCC scripts/dtc/flattree.o HOSTCC scripts/dtc/fstree.o HOSTCC scripts/dtc/livetree.o HOSTCC scripts/dtc/srcpos.o HOSTCC scripts/dtc/treesource.o HOSTLD scripts/dtc/dtc HOSTCC scripts/genksyms/genksyms.o SHIPPED scripts/genksyms/lex.c SHIPPED scripts/genksyms/parse.h SHIPPED scripts/genksyms/keywords.c HOSTCC scripts/genksyms/lex.o SHIPPED scripts/genksyms/parse.c HOSTCC scripts/genksyms/parse.o HOSTLD scripts/genksyms/genksyms CC scripts/mod/empty.o HOSTCC scripts/mod/mk\_elfconfig MKELF scripts/mod/elfconfig.h HOSTCC scripts/mod/file2alias.o HOSTCC scripts/mod/modpost.o HOSTCC scripts/mod/sumversion.o HOSTLD scripts/mod/modpost HOSTCC scripts/kallsyms HOSTCC scripts/pnmtologo HOSTCC scripts/conmakehash HOSTCC scripts/bin2c CC init/main.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from include/linux/ring\_buffer.h:5, from include/linux/ftrace\_event.h:4, from include/trace/syscall.h:6, from include/linux/syscalls.h:76, from init/main.c:16: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from include/linux/ftrace\_event.h:7, from include/trace/syscall.h:6, from include/linux/syscalls.h:76, from init/main.c:16: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] CHK include/generated/compile.h UPD include/generated/compile.h CC init/version.o CC init/do\_mounts.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from include/linux/suspend.h:8, from init/do\_mounts.c:6: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from include/linux/pagemap.h:15, from include/linux/nfs\_fs.h:41, from init/do\_mounts.c:20: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] CC init/do\_mounts\_rd.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from include/linux/pagemap.h:7, from include/linux/blkdev.h:12, from init/do\_mounts.h:2, from init/do\_mounts\_rd.c:12: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from include/linux/pagemap.h:15, from include/linux/blkdev.h:12, from init/do\_mounts.h:2, from init/do\_mounts\_rd.c:12: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] CC init/do\_mounts\_initrd.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from include/linux/pagemap.h:7, from include/linux/blkdev.h:12, from init/do\_mounts.h:2, from init/do\_mounts\_initrd.c:11: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from include/linux/pagemap.h:15, from include/linux/blkdev.h:12, from init/do\_mounts.h:2, from init/do\_mounts\_initrd.c:11: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] LD init/mounts.o CC init/initramfs.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from include/linux/ring\_buffer.h:5, from include/linux/ftrace\_event.h:4, from include/trace/syscall.h:6, from include/linux/syscalls.h:76, from init/initramfs.c:9: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: warning: variable 'old' set but not used [-Wunused-but-set-variable] In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/hardirq.h:5:0, from include/linux/hardirq.h:10, from include/linux/ftrace\_event.h:7, from include/trace/syscall.h:6, from include/linux/syscalls.h:76, from init/initramfs.c:9: include/linux/irq.h: In function 'alloc\_desc\_masks': include/linux/irq.h:451:8: warning: variable 'gfp' set but not used [-Wunused-but-set-variable] LD init/built-in.o HOSTCC usr/gen\_init\_cpio GEN usr/initramfs\_data.cpio AS usr/initramfs\_data.o LD usr/built-in.o CC arch/powerpc/kernel/cputable.o CC arch/powerpc/kernel/ptrace.o In file included from /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable.h:23:0, from include/linux/mm.h:40, from arch/powerpc/kernel/ptrace.c:20: /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:262:16: error: variable 'old' set but not used [-Werror=unused-but-set-variable] /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h: In function 'huge\_ptep\_set\_wrprotect': /home/mojobojo/xenon-linux-kernel/linux-2.6.36.4/arch/powerpc/include/asm/pgtable-ppc64.h:272:16: error: variable 'old' set but not used [-Werror=unused-but-set-variable] cc1: all warnings being treated as errors make[1]: *** [arch/powerpc/kernel/ptrace.o] Error 1 make: *** [arch/powerpc/kernel] Error 2 mojobojo@mojobojo-vm:~/xenon-linux-kernel/linux-2.6.36.4$ [/code] What I am doing for a workaround is finding all the makefiles that use it and removing it.

## 2012-01-01 09:52:29, posted by: tuxuser

in the kernel Makefile, remove the 2 occurrences of "-Wall" -> restart make ;)

## 2012-01-01 13:17:03, posted by: mojobojo

Wow, that was alot simpler than I was making it.